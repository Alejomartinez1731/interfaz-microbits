<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microbits Institut - Dashboard Docentes</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Pantalla de Inicio -->
    <div class="home-container" id="home-container">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <div class="hero-logo">
                    <div class="logo-large">MB</div>
                </div>
                <h1 class="hero-title">Bienvenido a Microbits Institut</h1>
                <h2 class="hero-subtitle">Centro de formaci√≥n desde 1989</h2>
                <p class="hero-description">
                    Centro de formaci√≥n integral fundado en 1989 en Reus, Tarragona. Gracias a la confianza de nuestros alumnos,
                    seguimos ampliando nuestra oferta formativa con un objetivo claro: ofrecer ense√±anza de calidad que responde
                    a las necesidades del mercado laboral actual.
                </p>

                <!-- Badges de Identidad -->
                <div class="identity-badges">
                    <div class="identity-badge">
                        <div class="badge-icon gold">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="badge-info">
                            <span class="badge-value">4.9/5</span>
                            <span class="badge-label">Valoraci√≥n</span>
                        </div>
                    </div>
                    <div class="identity-badge">
                        <div class="badge-icon blue">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="badge-info">
                            <span class="badge-value">+35</span>
                            <span class="badge-label">A√±os experiencia</span>
                        </div>
                    </div>
                    <div class="identity-badge">
                        <div class="badge-icon purple">
                            <i class="fas fa-landmark"></i>
                        </div>
                        <div class="badge-info">
                            <span class="badge-value">SOC</span>
                            <span class="badge-label">Centro Oficial</span>
                        </div>
                    </div>
                    <div class="identity-badge">
                        <div class="badge-icon green">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <div class="badge-info">
                            <span class="badge-value">‚úì</span>
                            <span class="badge-label">Homologado Generalitat</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contenedor Principal -->
        <div class="home-main">
            <!-- Secci√≥n de Cursos -->
            <section class="courses-section">
                <div class="section-header">
                    <h3 class="section-title">
                        <i class="fas fa-graduation-cap"></i>
                        Cursos Disponibles
                    </h3>
                    <p class="section-subtitle">Selecciona un curso para ver su dashboard</p>
                </div>
                <div class="courses-list" id="courses-list">
                    <!-- Los cursos se cargar√°n din√°micamente -->
                    <div class="courses-loading">
                        <div class="spinner"></div>
                        <p>Cargando cursos...</p>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de Calendario -->
            <section class="calendar-section">
                <div class="section-header">
                    <h3 class="section-title">
                        <i class="fas fa-calendar-days"></i>
                        Calendario Acad√©mico
                    </h3>
                    <p class="section-subtitle">Gestiona eventos y festividades de Catalu√±a</p>
                </div>
                <div class="calendar-container">
                    <!-- Controles del calendario -->
                    <div class="calendar-controls">
                        <button class="calendar-nav-btn" id="cal-prev-month">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="calendar-current-month" id="cal-current-month">
                            Enero 2026
                        </div>
                        <button class="calendar-nav-btn" id="cal-next-month">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button class="calendar-today-btn" id="cal-today">
                            Hoy
                        </button>
                    </div>

                    <!-- Grid del calendario -->
                    <div class="calendar-grid">
                        <div class="calendar-weekdays">
                            <div class="calendar-weekday">Dom</div>
                            <div class="calendar-weekday">Lun</div>
                            <div class="calendar-weekday">Mar</div>
                            <div class="calendar-weekday">Mi√©</div>
                            <div class="calendar-weekday">Jue</div>
                            <div class="calendar-weekday">Vie</div>
                            <div class="calendar-weekday">S√°b</div>
                        </div>
                        <div class="calendar-days" id="calendar-days">
                            <!-- Los d√≠as se generar√°n din√°micamente -->
                        </div>
                    </div>

                    <!-- Panel de eventos -->
                    <div class="calendar-events-panel">
                        <div class="events-panel-header">
                            <h4>
                                <i class="fas fa-list-check"></i>
                                Eventos del d√≠a
                            </h4>
                            <button class="btn-add-event" id="btn-add-event">
                                <i class="fas fa-plus"></i>
                                Nuevo Evento
                            </button>
                        </div>
                        <div class="events-list" id="events-list">
                            <div class="events-empty">
                                <i class="fas fa-calendar-xmark"></i>
                                <p>No hay eventos para este d√≠a</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Dashboard Container (oculto inicialmente) -->
    <div class="dashboard-container hidden" id="dashboard-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">MB</div>
                <div class="header-info">
                    <h1 id="curso-titulo">Seleccione un curso</h1>
                    <span class="fecha" id="fecha-actual"></span>
                </div>
            </div>
            <div class="header-right">
                <div class="curso-selector">
                    <label for="curso-select">Curso:</label>
                    <select id="curso-select">
                        <option value="">-- Seleccionar curso --</option>
                    </select>
                </div>
            </div>
        </header>

        <!-- M√©tricas -->
        <section class="metricas-container">
            <div class="metrica-card" data-metrica="estudiantes">
                <div class="metrica-icon blue">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <div class="metrica-info">
                    <span class="metrica-valor" id="estudiantes-activos">0</span>
                    <span class="metrica-label">Estudiantes Activos</span>
                    <span class="metrica-detail" id="estudiantes-detail"></span>
                </div>
                <div class="metrica-expand">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            <div class="metrica-card" data-metrica="preguntas">
                <div class="metrica-icon cyan">
                    <i class="fas fa-comments"></i>
                </div>
                <div class="metrica-info">
                    <span class="metrica-valor" id="preguntas-totales">0</span>
                    <span class="metrica-label">Preguntas Totales</span>
                    <span class="metrica-detail" id="preguntas-detail"></span>
                </div>
                <div class="metrica-expand">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            <div class="metrica-card" data-metrica="promedio">
                <div class="metrica-icon orange">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="metrica-info">
                    <span class="metrica-valor" id="promedio-preguntas">0</span>
                    <span class="metrica-label">Promedio Preguntas</span>
                    <span class="metrica-detail" id="promedio-detail"></span>
                </div>
                <div class="metrica-expand">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            <div class="metrica-card" data-metrica="temas">
                <div class="metrica-icon green">
                    <i class="fas fa-book"></i>
                </div>
                <div class="metrica-info">
                    <span class="metrica-valor" id="temas-consultados">0</span>
                    <span class="metrica-label">Temas Consultados</span>
                    <span class="metrica-detail" id="temas-detail"></span>
                </div>
                <div class="metrica-expand">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </section>

        <!-- Panel de Desglose de M√©tricas -->
        <div class="metricas-detail-panel hidden" id="metricas-detail-panel">
            <div class="detail-panel-header">
                <h3 id="detail-panel-title">Desglose de M√©tricas</h3>
                <button class="btn-close-detail" id="btn-close-detail">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="detail-panel-content" id="detail-panel-content">
                <!-- Contenido din√°mico -->
            </div>
        </div>

        <!-- Tabs de navegaci√≥n -->
        <section class="tabs-container">
            <div class="tabs">
                <button class="tab active" data-tab="estudiantes">
                    <i class="fas fa-users"></i>
                    Estudiantes Habilitados
                </button>
                <button class="tab" data-tab="preguntas">
                    <i class="fas fa-question-circle"></i>
                    Preguntas Frecuentes
                </button>
                <button class="tab" data-tab="activos">
                    <i class="fas fa-trophy"></i>
                    Estudiantes M√°s Activos
                </button>
                <button class="tab" data-tab="temas">
                    <i class="fas fa-tags"></i>
                    Temas M√°s Consultados
                </button>
            </div>
        </section>

        <!-- Contenido de las tablas -->
        <section class="tabla-container">
            <!-- Barra de b√∫squeda -->
            <div class="tabla-header">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Buscar por nombre...">
                </div>
                <div class="tabla-actions">
                    <button class="btn-refresh" id="btn-refresh">
                        <i class="fas fa-sync-alt"></i>
                        Actualizar
                    </button>
                </div>
            </div>

            <!-- Tabla de Estudiantes Habilitados -->
            <div class="tabla-content" id="tabla-estudiantes">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Chat ID</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-estudiantes">
                        <!-- Datos din√°micos -->
                    </tbody>
                </table>
                <div class="tabla-empty" id="empty-estudiantes">
                    <i class="fas fa-inbox"></i>
                    <p>No hay estudiantes registrados</p>
                </div>
            </div>

            <!-- Tabla de Preguntas Frecuentes -->
            <div class="tabla-content hidden" id="tabla-preguntas">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Chat ID</th>
                            <th>Pregunta</th>
                            <th>Fecha</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-preguntas">
                        <!-- Datos din√°micos -->
                    </tbody>
                </table>
                <div class="tabla-empty" id="empty-preguntas">
                    <i class="fas fa-inbox"></i>
                    <p>No hay preguntas registradas</p>
                </div>
            </div>

            <!-- Tabla de Estudiantes M√°s Activos (Contador) -->
            <div class="tabla-content hidden" id="tabla-activos">
                <!-- Gr√°fico de Estudiantes Activos -->
                <div class="chart-container" id="chart-activos-container">
                    <canvas id="chart-activos"></canvas>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Posici√≥n</th>
                            <th>Nombre</th>
                            <th>Chat ID</th>
                            <th>Preguntas Realizadas</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-activos">
                        <!-- Datos din√°micos -->
                    </tbody>
                </table>
                <div class="tabla-empty" id="empty-activos">
                    <i class="fas fa-inbox"></i>
                    <p>No hay datos de actividad</p>
                </div>
            </div>

            <!-- Tabla de Temas M√°s Consultados -->
            <div class="tabla-content hidden" id="tabla-temas">
                <!-- Gr√°fico de Temas -->
                <div class="chart-container" id="chart-temas-container">
                    <canvas id="chart-temas"></canvas>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Tema</th>
                            <th>Consultas</th>
                            <th>Porcentaje</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-temas">
                        <!-- Datos din√°micos -->
                    </tbody>
                </table>
                <div class="tabla-empty" id="empty-temas">
                    <i class="fas fa-inbox"></i>
                    <p>No hay temas registrados</p>
                </div>
            </div>

            <!-- Paginaci√≥n -->
            <div class="paginacion" id="paginacion">
                <button class="btn-pag" id="btn-anterior" disabled>
                    <i class="fas fa-chevron-left"></i>
                </button>
                <span class="pag-info" id="pag-info">P√°gina 1 de 1</span>
                <button class="btn-pag" id="btn-siguiente" disabled>
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>

        <!-- Loading Overlay -->
        <div class="loading-overlay hidden" id="loading">
            <div class="spinner"></div>
            <p>Cargando datos...</p>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container" id="toast-container"></div>
    </div>

    <!-- Bot√≥n flotante para volver al inicio -->
    <button class="fab-home" id="fab-home" title="Volver al inicio">
        <i class="fas fa-home"></i>
    </button>

    <!-- Modal para agregar/editar eventos -->
    <div class="modal-overlay hidden" id="event-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modal-title">
                    <i class="fas fa-calendar-plus"></i>
                    Nuevo Evento
                </h3>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="modal-body" id="event-form">
                <div class="form-group">
                    <label for="event-title">
                        <i class="fas fa-heading"></i>
                        T√≠tulo del evento
                    </label>
                    <input type="text" id="event-title" required placeholder="Ej: Examen parcial">
                </div>
                <div class="form-group">
                    <label for="event-date">
                        <i class="fas fa-calendar"></i>
                        Fecha
                    </label>
                    <input type="date" id="event-date" required>
                </div>
                <div class="form-group">
                    <label for="event-type">
                        <i class="fas fa-tag"></i>
                        Tipo de evento
                    </label>
                    <select id="event-type" required>
                        <option value="exam">üìù Examen/Parcial</option>
                        <option value="practice">üíª Pr√°ctica</option>
                        <option value="meeting">üë• Reuni√≥n</option>
                        <option value="holiday">üéâ Festividad</option>
                        <option value="other">üìå Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="event-description">
                        <i class="fas fa-align-left"></i>
                        Descripci√≥n
                    </label>
                    <textarea id="event-description" rows="3" placeholder="Descripci√≥n opcional del evento..."></textarea>
                </div>
                <div class="form-group">
                    <label for="event-course">
                        <i class="fas fa-graduation-cap"></i>
                        Curso (opcional)
                    </label>
                    <select id="event-course">
                        <option value="">-- Seleccionar curso --</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-modal btn-secondary" id="modal-cancel">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-modal btn-primary">
                        <i class="fas fa-save"></i>
                        Guardar Evento
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
